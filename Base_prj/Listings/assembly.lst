


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             text, CODE, READONLY
    2 00000000                 EXPORT           example1
    3 00000000                 import           myoutput
    4 00000000         example1
    5 00000000         ;INITIALIZE THE LOOP
    6 00000000 4823            LDR              R0, =myinput ; input array
    7 00000002 4924            LDR              R1, =myoutput ; output array 
    8 00000004         
    9 00000004         ; transfer myoutput1 to myoutput HERE
   10 00000004 4A24            LDR              R2, =mystate ; address of state
                                                             data struct 
   11 00000006 ECB2 0A01       VLDR.F32         S0, [R2], #0x04 ; float q
   12 0000000A ECF2 0A01       VLDR.F32         S1, [R2], #0x04 ; float r
   13 0000000E ECB2 1A01       VLDR.F32         S2, [R2], #0x04 ; float x
   14 00000012 ECF2 1A01       VLDR.F32         S3, [R2], #0x04 ; float p
   15 00000016 ED92 2A00       VLDR.F32         S4, [R2]    ; float k
   16 0000001A         ; state data transfer complete
   17 0000001A         
   18 0000001A 4B20            LDR              R3, =length ; int length
   19 0000001C F04F 0400       MOV              R4, #0      ; loop tracker 
   20 00000020 ED9F 3A1F       VLDR.F32         S6, =0.0    ; initial value for
                                                             output[i]
   21 00000024         loop
   22 00000024 429C            CMP              R4, R3
   23 00000026 DC16            BGT              endfor      ;execute body of lo
                                                            op
   24 00000028 EE71 1A80       VADD.F32         S3, S3, S0  ; p = p + q
   25 0000002C EE31 4AA0       VADD.F32         S8, S3, S1  ; p + r
   26 00000030 EE81 2A84       VDIV.F32         S4, S3, S8  ; k = p / p + r
   27 00000034 ECF0 2A01       VLDR.F32         S5, [R0], #0x04 ; x_obs[i] = in
                                                            put_array[i]
   28 00000038 EE72 3AC3       VSUB.F32         S7, S5, S6  ; x_obs - x_pred[n-
                                                            1] 
   29 0000003C EEA2 3A23       VFMA.F32         S6, S4, S7  ; x_pre[n] = x[n-1]
                                                             + k*(message - x) 
                                                               
   30 00000040 EE21 5A82       VMUL.F32         S10, S3, S4 ; p*k
   31 00000044         ;VLMS.f32 S3, S4, S3 ==? p = (1-k)*p
   32 00000044 EE71 1AC5       VSUB.F32         S3, S3, S10 ; p = (1-k)*p
   33 00000048         ;take care of variables for next iteration
   34 00000048         
   35 00000048 EEF0 4A43       VMOV.F32         S9, S6
   36 0000004C ECE1 4A01       VSTR.F32         S9, [R1], #0x04
   37 00000050 F104 0401       ADD              R4, R4, #1
   38 00000054 E7E6            B                loop
   39 00000056         endfor
   40 00000056 4770            BX               LR
   41 00000058         
   42 00000058                 ALIGN
   43 00000058 3DCCCCCD 
              3DCCCCCD 
              00000000 
              3DCCCCCD 
              00000000 mystate DCFS             0.1, 0.1, 0.0, 0.1, 0.0
   44 0000006C 3F800000 
              3F800000 
              3F800000 
              3F800000 myinput DCFS             1.0, 1.0, 1.0, 1.0
   45 0000007C 00000000 



ARM Macro Assembler    Page 2 


              00000000 
              00000000 
              00000000 myoutput1
                               DCFS             0.0, 0.0, 0.0, 0.0
   46 0000008C 04 00   length  DCW              4
   47 0000008E         
   48 0000008E                 END
              00 00 00000000 
              00000000 
              00000000 
              00000000 
              00000000 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\assembly.d -o.\objects\assembly.o -IC:\Users\dsharm10
\426\426-microprcessors\Base_prj\RTE -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\4.5.0\CMSI
S\Include -IC:\Keil_v5\ARM\PACK\Keil\STM32F4xx_DFP\2.7.0\Drivers\CMSIS\Device\S
T\STM32F4xx\Include --predefine="__UVISION_VERSION SETA 515" --predefine="_RTE_
 SETA 1" --predefine="STM32F407xx SETA 1" --list=.\listings\assembly.lst Source
s\Assembly.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

endfor 00000056

Symbol: endfor
   Definitions
      At line 39 in file Sources\Assembly.s
   Uses
      At line 23 in file Sources\Assembly.s
Comment: endfor used once
example1 00000000

Symbol: example1
   Definitions
      At line 4 in file Sources\Assembly.s
   Uses
      At line 2 in file Sources\Assembly.s
Comment: example1 used once
length 0000008C

Symbol: length
   Definitions
      At line 46 in file Sources\Assembly.s
   Uses
      At line 18 in file Sources\Assembly.s
Comment: length used once
loop 00000024

Symbol: loop
   Definitions
      At line 21 in file Sources\Assembly.s
   Uses
      At line 38 in file Sources\Assembly.s
Comment: loop used once
myinput 0000006C

Symbol: myinput
   Definitions
      At line 44 in file Sources\Assembly.s
   Uses
      At line 6 in file Sources\Assembly.s
Comment: myinput used once
myoutput1 0000007C

Symbol: myoutput1
   Definitions
      At line 45 in file Sources\Assembly.s
   Uses
      None
Comment: myoutput1 unused
mystate 00000058

Symbol: mystate
   Definitions
      At line 43 in file Sources\Assembly.s
   Uses
      At line 10 in file Sources\Assembly.s
Comment: mystate used once
text 00000000

Symbol: text



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 1 in file Sources\Assembly.s
   Uses
      None
Comment: text unused
8 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

myoutput 00000000

Symbol: myoutput
   Definitions
      At line 3 in file Sources\Assembly.s
   Uses
      At line 7 in file Sources\Assembly.s
Comment: myoutput used once
1 symbol
345 symbols in table
