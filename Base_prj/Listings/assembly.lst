


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             text, CODE, READONLY
    2 00000000                 EXPORT           Kalmanfilter_asm
    3 00000000         Kalmanfilter_asm
    4 00000000 ECB2 0A01       VLDR.F32         S0, [R2], #0x04 ; float q
    5 00000004 ECF2 0A01       VLDR.F32         S1, [R2], #0x04 ; float r
    6 00000008 ECB2 1A01       VLDR.F32         S2, [R2], #0x04 ; float x
    7 0000000C ECF2 1A01       VLDR.F32         S3, [R2], #0x04 ; float p
    8 00000010 ED92 2A00       VLDR.F32         S4, [R2]    ; float k
    9 00000014         ; state data transfer complete
   10 00000014 F04F 0400       MOV              R4, #0      ; loop tracker 
   11 00000018 ED9F 3A0E       VLDR.F32         S6, =0.0    ; initial value for
                                                             output[i]
   12 0000001C         loop
   13 0000001C 429C            CMP              R4, R3
   14 0000001E DC18            BGT              endfor      ;execute body of lo
                                                            op
   15 00000020 EE71 1A80       VADD.F32         S3, S3, S0  ; p = p + q
   16 00000024 EE31 4AA0       VADD.F32         S8, S3, S1  ; p + r
   17 00000028 EE81 2A84       VDIV.F32         S4, S3, S8  ; k = p / p + r
   18 0000002C ECF0 2A01       VLDR.F32         S5, [R0], #0x04 ; x_obs[i] = in
                                                            put_array[i]
   19 00000030 EE72 3AC3       VSUB.F32         S7, S5, S6  ; x_obs - x_pred[n-
                                                            1] 
   20 00000034 EEA2 3A23       VFMA.F32         S6, S4, S7  ; x_pre[n] = x[n-1]
                                                             + k*(message - x) 
                                                               
   21 00000038         ;take care of variables for next iteration
   22 00000038 EE21 5A82       VMUL.F32         S10, S3, S4 ; p*k
   23 0000003C EE71 1AC5       VSUB.F32         S3, S3, S10 ; p = (1-k)*p (===?
                                                             VLMS.f32 S3, S4, S
                                                            3 ==? p = (1-k)*p)
   24 00000040 EEF0 4A43       VMOV.F32         S9, S6
   25 00000044 EDC1 4A00       VSTR.F32         S9, [R1]
   26 00000048 F101 0104       ADD              R1, #0x04
   27 0000004C F104 0401       ADD              R4, R4, #1
   28 00000050 E7E4            B                loop
   29 00000052         endfor
   30 00000052                 END
              00 00 00000000 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\assembly.d -o.\objects\assembly.o -IC:\Users\dsharm10
\426\426-microprcessors\Base_prj\RTE -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\4.5.0\CMSI
S\Include -IC:\Keil_v5\ARM\PACK\Keil\STM32F4xx_DFP\2.7.0\Drivers\CMSIS\Device\S
T\STM32F4xx\Include --predefine="__UVISION_VERSION SETA 515" --predefine="_RTE_
 SETA 1" --predefine="STM32F407xx SETA 1" --list=.\listings\assembly.lst Source
s\Assembly.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Kalmanfilter_asm 00000000

Symbol: Kalmanfilter_asm
   Definitions
      At line 3 in file Sources\Assembly.s
   Uses
      At line 2 in file Sources\Assembly.s
Comment: Kalmanfilter_asm used once
endfor 00000052

Symbol: endfor
   Definitions
      At line 29 in file Sources\Assembly.s
   Uses
      At line 14 in file Sources\Assembly.s
Comment: endfor used once
loop 0000001C

Symbol: loop
   Definitions
      At line 12 in file Sources\Assembly.s
   Uses
      At line 28 in file Sources\Assembly.s
Comment: loop used once
text 00000000

Symbol: text
   Definitions
      At line 1 in file Sources\Assembly.s
   Uses
      None
Comment: text unused
4 symbols
340 symbols in table
